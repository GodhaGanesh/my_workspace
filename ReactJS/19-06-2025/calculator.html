<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./calculator.css">
</head>

<body>
    <div class="outBody">
        <div class="display">
            <input class="displayText" placeholder="0" oninput="this.value = this.value.replace(/[^0-9+\-*/.%]/g, '')"
                onchange="calculateResult()">
            <div class="result" onchange="">0</div>
        </div>
        <div class="calculatorbody">
            <button onclick="clearDisplay()">C</button>
            <button onclick="deleteLastCharacter()">
                <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"
                    fill="#e3e3e3">
                    <path
                        d="m456-320 104-104 104 104 56-56-104-104 104-104-56-56-104 104-104-104-56 56 104 104-104 104 56 56Zm-96 160q-19 0-36-8.5T296-192L80-480l216-288q11-15 28-23.5t36-8.5h440q33 0 56.5 23.5T880-720v480q0 33-23.5 56.5T800-160H360ZM180-480l180 240h440v-480H360L180-480Zm400 0Z" />
                </svg>
            </button></svg></button>
            <button onclick="appendToDisplay(this.textContent)">%</button>
            <button onclick="appendToDisplay(this.textContent)">/</button>
            <button onclick="appendToDisplay(this.textContent)">7</button>
            <button onclick="appendToDisplay(this.textContent)">8</button>
            <button onclick="appendToDisplay(this.textContent)">9</button>
            <button onclick="appendToDisplay(this.textContent)">X</button>
            <button onclick="appendToDisplay(this.textContent)">4</button>
            <button onclick="appendToDisplay(this.textContent)">5</button>
            <button onclick="appendToDisplay(this.textContent)">6</button>
            <button onclick="appendToDisplay(this.textContent)">-</button>
            <button onclick="appendToDisplay(this.textContent)">1</button>
            <button onclick="appendToDisplay(this.textContent)">2</button>
            <button onclick="appendToDisplay(this.textContent)">3</button>
            <button onclick="appendToDisplay(this.textContent)">+</button>
            <button onclick="appendToDisplay(this.textContent)">00</button>
            <button onclick="appendToDisplay(this.textContent)">0</button>
            <button onclick="appendToDisplay(this.textContent)">.</button>
            <button onclick="calculateResult()">=</button>
        </div>
    </div>

    <script>
        function clearDisplay() {
            document.querySelector('.displayText').value = '';
            document.querySelector('.result').textContent = '0';
        }

        function deleteLastCharacter() {
            const display = document.querySelector('.displayText');
            display.value = display.value.slice(0, -1);
            updateResult();
        }

        function appendToDisplay(value) {
            const display = document.querySelector('.displayText');
            display.value += value;
            updateResult();
        }

        function calculateResult() {
            if (document.querySelector('.displayText').value === '') {
                document.querySelector('.result').textContent = '0';
                return;
            }
            const display = document.querySelector('.displayText');
            try {
                const result = eval(display.value.replace(/X/g, '*'));
                document.querySelector('.result').textContent = result;
            } catch (e) {
                document.querySelector('.result').textContent = 'Error';
            }
        }

        function updateResult() {
            const display = document.querySelector('.displayText');
            try {
                const result = eval(display.value.replace(/X/g, '*'));
                document.querySelector('.result').textContent = result || '0';
            } catch (e) {
                document.querySelector('.result').textContent = '0';
            }
        }
    </script>
</body>

</html>